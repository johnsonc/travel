import json
from django.shortcuts import render
from travel import models as travel

FLAG_GROUPS = [
    [22,127,178,88],
    [9,82,170,109],
    [76,92,169,68],
    [63,204,205,200],
    [186,42,134,159],
    [133,34,94,80],
    [245,212,33,10],
    [52,185,13,149],
    [101,141,199,47],
    [43,44,94,102],
    [250,233,146,51],
    [120,171,12848,124],
    [29,93,19,52],
    [241,208,103,78],
    [61,223,64,214],
    [21,162,231,60],
    [25,183,142,158],
    [18,106,75,163],
    [74,248,219,113],
    [112,221,108,42],
    [36,91,222,227],
    [96,239,130,139],
    [67,156,190,59],
    [126,164,97,26],
    [165,167,128,129],
    [23,240,247,58],
    [181,150,111,203],
    [228,229,154,145],
    [11,145,173,229],
    [85,217,68,76],
    [201,146,51,58],
    [71,175,144,45],
    [17,27,35,191],
    [73,57,243,19],
    [107,115,125,10],
    [62,114,117,110],
    [26,119,174,97],
    [12,148,149,152],
    [8,131,190,138],
    [143,157,206,12987],
    [28,121,230,112],
    [53,226,220,224],
    [31,137,172,235],
    [202,240,187,192],
    [83,20,207,232],
    [98,99,70,140],
    [84,40,15,153],
    [77,69,24,179],
    [16,65,13006,135],
    [132,195,242,95],
    [79,90,234,202],
    [39,123,60],
    [14,122,216,249],
    [30,49,160,66],
    [81,50,32,232],
    [244,54,220,168],
    [213,171,120,247],
    [104,132,182,151],
    [176,55,56,194],
    [198,169,85,76],
    [118,136,196,201],
    [14,155,216,122],
    [41,46,72,225],
    [86,114,117,62],
    [100,148,177,18]
]


#-------------------------------------------------------------------------------
def get_flag_game_data():
    countries = dict([
        (co.id, {"name": co.name, "id": co.id, "small": co.flag.thumb.url, "large": co.flag.large.url})
        for co in travel.Entity.objects.countries().exclude(id__in=[37, 48, 87, 105, 147, 184, 215, 237, 238, 246])
    ])
    return {'countries': json.dumps(countries), 'groups': json.dumps(FLAG_GROUPS)}

#-------------------------------------------------------------------------------
def flag_game(request):
    data = get_flag_game_data()
    return render(request, 'travel/flag_game.html', data)

